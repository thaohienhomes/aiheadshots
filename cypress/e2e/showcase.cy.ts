describe('AI Models Showcase UX', () => {\n  let userEmail: string;\n  const userPassword = 'password123';\n\n  before(() => {\n    cy.generateRandomEmail().then(email => {\n      userEmail = email;\n      cy.signUp(userEmail, userPassword);\n    });\n  });\n\n  beforeEach(() => {\n    cy.login(userEmail, userPassword);\n  });\n\n  it('supports keyboard navigation on model tabs', () => {\n    cy.visit('/');\n    cy.get('[data-testid="model-tab-flux-pro-ultra"]').focus();\n    cy.focused().type('{rightarrow}');\n    cy.focused().should('have.attr', 'aria-selected', 'true');\n    cy.focused().type('{leftarrow}');\n    cy.focused().should('have.attr', 'aria-selected', 'true');\n  });\n\n  it('Try Now navigates and preselects model in style selection', () => {\n    cy.visit('/');\n    cy.get('[data-testid="model-tab-imagen4"]').click();\n    cy.get('[data-testid="try-now"]').click();\n\n    // Should navigate to upload-intro; continue to style selection\n    cy.get('[data-testid="start-upload"]').click({ timeout: 15000 });\n\n    // Fast path: go straight to style selection via personal info shorthand\n    cy.contains('Continue').click();\n    cy.get('#name').type('User');\n    cy.contains('label', 'Age').parent().within(() => { cy.get('button').first().click(); });\n    cy.contains('18-24').click();\n    cy.contains('label', 'Gender').parent().within(() => { cy.get('label').contains(/male|female/i).first().click(); });\n    cy.contains('label', 'Ethnicity').parent().within(() => { cy.get('button').first().click(); });\n    cy.contains('Asian').click();\n    cy.contains('Continue').click();\n\n    // Assert imagen4 is preselected\n    cy.contains('AI Model Selection');\n    cy.contains('Imagen4');\n  });\n\n  it('opens zoom dialog for a sample and closes via ESC', () => {\n    cy.visit('/');\n    // Click Try Now on default model to ensure content is in view\n    cy.get('[data-testid="try-now"]').click();\n\n    // Return home to view showcase again\n    cy.visit('/');\n\n    // Open a sample\n    cy.contains('Sample Results').scrollIntoView();\n    cy.get('[data-testid="model-tab-flux-pro-ultra"]').click();\n    cy.get('img[alt^="Flux Pro Ultra sample"]').first().click({ force: true });\n    cy.get('[data-testid="sample-zoom-dialog"]').should('be.visible');\n\n    // Close with ESC\n    cy.get('body').type('{esc}');\n    cy.get('[data-testid="sample-zoom-dialog"]').should('not.exist');\n  });\n});\n